{{#partial "contenido"}}

<link href="css/dataTables.bootstrap4.min.css" rel="stylesheet">
<script src="js/jquery.dataTables.min.js" type="text/javascript"></script>
<script src="js/dataTables.bootstrap4.min.js" type="text/javascript"></script>

<select class="form-control" id="cmbComuna">
	<option value="">Mostrar todas las comunas</option>
	{{#each comuna}}
	<option value="{{numero}} - {{nombre}}">{{numero}} - {{nombre}}</option>
	{{/each}}
</select>

<br>

<table class="table table-striped table-bordered" id="tablaTerminales">
	<thead>
		<tr>
			<th>Nombre</th>
			<th>Comuna</th>
			<th>Ubicaci√≥n</th>
			<th>Acciones</th>
		</tr>
	</thead>
	<tbody>
		{{#each terminal}}
		<tr>
			<td>{{nombre}}</td>
			<td>{{comuna.numero}} - {{comuna.nombre}}</td>
			<td><a href="https://www.google.com/maps?q=loc:{{coordenadas.longitud}},{{coordenadas.latitud}}">{{coordenadas.longitud}};{{coordenadas.latitud}}</a></td>
			<td class="text-center">
				<button type="button" class="btn btn-warning" title="Modificar terminal" data-toggle="modal" data-id="{{id}}" data-nombre="{{nombre}}"
                        data-longitud="{{coordenadas.longitud}}" data-latitud="{{coordenadas.latitud}}" data-comuna="{{comuna.numero}}" data-target="#modalModificarTerminal">
					<span class="glyphicon glyphicon-pencil"></span>
				</button>
				<button type="button" class="btn btn-info" title="Configurar acciones de la terminal">
					<span class="glyphicon glyphicon-cog"></span>
				</button>
                <button type="button" class="btn btn-danger" title="Eliminar terminal" data-toggle="modal" data-id="{{id}}" data-target="#modalEliminarTerminal">
                    <span class="glyphicon glyphicon-remove"></span>
                </button>
			</td>
		</tr>
		{{/each}}
	</tbody>
</table>

<button type="button" id="btnNuevaTerminal" class="btn btn-primary" data-toggle="modal" data-target="#modalNuevaTerminal"><span class="glyphicon glyphicon-plus"></span></button>

{{>GestionDeTerminales/NuevaTerminal.hbs}}
{{>GestionDeTerminales/ModificarTerminal.hbs}}
{{>GestionDeTerminales/EliminarTerminal.hbs}}

<script src="js/terminales.js" type="text/javascript"></script>

{{/partial}}

{{>PaginaBase.hbs}}